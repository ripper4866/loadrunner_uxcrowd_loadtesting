define(['../../app'], function (app) {
    app_cached_providers
        .$controllerProvider
        .register('customerHeaderController', function ($rootScope, $scope, $state, Principal, Auth, Translation) {
            Principal.identity().then(function (account) {
                $scope.account = account;
                if (account.balance!=null){
                    $scope.balance = format_price(account.balance);
                }
            });
            $scope.logout = function () {
                Auth.logout();
                $state.go('new_main_index');
            };
        });
});
